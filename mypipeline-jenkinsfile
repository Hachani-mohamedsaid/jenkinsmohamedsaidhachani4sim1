pipeline {
    agent any
    
    tools {
        maven 'Maven'
    }
    
    stages {
        stage('Checkout') {
            steps {
                echo 'ğŸ“¥ RÃ©cupÃ©ration du code source...'
                checkout scm
            }
        }
        
        stage('Compile') {
            steps {
                echo 'ğŸ”¨ Compilation...'
                sh 'mvn clean compile'
            }
        }
        
        stage('Test') {
            steps {
                echo 'ğŸ§ª Tests (skipped)...'
                sh 'mvn test -DskipTests'
            }
        }
        
        stage('Package') {
            steps {
                echo 'ğŸ“¦ Packaging...'
                sh 'mvn package -DskipTests'
            }
        }
        
        stage('Archive') {
            steps {
                echo 'ğŸ“‚ Archivage des artifacts...'
                archiveArtifacts artifacts: 'target/*.jar', fingerprint: true
            }
        }
    }
    
    post {
        success {
            echo 'âœ… Build rÃ©ussi ! Artifact crÃ©Ã© dans target/'
        }
        failure {
            echo 'âŒ Le build a Ã©chouÃ©. VÃ©rifiez les logs.'
        }
        always {
            echo 'ğŸ Pipeline terminÃ©.'
        }
    }
}

5. **Commit new file** â†’ Message : `Add mypipeline-jenkinsfile`
6. **Commit changes**

---

## ğŸ”§ Ã‰TAPE 2 : CRÃ‰ER LE NOUVEAU PIPELINE DANS JENKINS

### **A. CrÃ©er le job**

1. Allez sur Jenkins : `http://192.168.33.10:8080`
2. Cliquez sur **New Item** (Nouvel Ã©lÃ©ment)
3. Nom : `mypipeline-jenkinsfile`
4. SÃ©lectionnez : **Pipeline**
5. Cliquez sur **OK**

---

### **B. Configurer le pipeline**

#### **Section "General" :**
- Description : `Pipeline utilisant mypipeline-jenkinsfile depuis GitHub`

---

#### **Section "Build Triggers" :**
- â˜‘ï¸ **Poll SCM**
- Schedule : `H/2 * * * *`

---

#### **Section "Pipeline" :**

1. **Definition** : SÃ©lectionnez **Pipeline script from SCM**

2. **SCM** : SÃ©lectionnez **Git**

3. **Repository URL** : 
  https://github.com/Hachani-mohamedsaid/jenkinsmohamedsaidhachani4sim1.git

4. **Credentials** : (Si demandÃ©, ajoutez vos credentials GitHub)

5. **Branch Specifier** : 
   */main

6. **Script Path** : 
   mypipeline-jenkinsfile
